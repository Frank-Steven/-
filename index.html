<!DOCTYPE html>
<html>

<head>
    <title>抽奖程序</title>
    <meta charset="UTF-8">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            cursor: url("assets/cursor.png"), auto;
        }

        #Load {
            position: absolute;
            height: 100vh;
            width: 100vw;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #Panel {
            position: absolute;
            top: 0%;
            left: 0%;
            width: 100vw;
            height: 100vh;
            text-align: center;
            display: none;
            background-image: url("assets/background.png");
        }

        #Panel button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            cursor: url("assets/cursor.png"), auto;
        }

        #Menu {
            display: flex;
            height: 80%;
            margin: 20px;
            padding: 20px;
            border-radius: 5px;
        }

        #List {
            position: absolute;
            width: 200px;
            height: 90%;
            text-align: left;
            display: table;
        }

        #About {
            width: 100%;
            height: 100%;
            margin: 20px;
            margin-left: 300px;
            text-align: center;
            background-color: #2b2b2b33;
        }

        #Btn {
            position: absolute;
            bottom: 0%;
            right: 5%;
            float: right;
            text-align: center;
            background-color: transparent;
        }

        #Btn button {
            background-color: transparent;
            width: 170px;
            height: 40px;
            margin: 25px;
            transform: translate(-60%, -30%)
        }

        #Wish1 {
            transform: translate(-24%, -50%);
            width: 300px;
        }

        #Btn button span {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-10px, -25px);
            font-size: 20px;
            color: #616161;
        }

        #List button {
            width: 180px;
            height: 90px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            background-color: transparent;
            color: white;
            cursor: url("assets/cursor.png"), auto;
            display: flex;
            display: block;
        }

        #List button img {
            width: 150%;
            margin-right: 10px;
        }

        #CardSet {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -45%);
            display: flex;
            gap: 10px;
            width: 80%;
            flex-wrap: wrap;
        }

        .Card {
            width: calc(50% - 10px);
            height: 400px;
            border-radius: 5px;
            background-color: #f2f2f233;
        }

        #TITLE {
            color: #fff;
            position: absolute;
            top: 20%;
            left: 50%;
            transform: translate(-50%, 0%);
            font-size: 30px;
        }

        #Reset {
            position: absolute;
            top: 100px;
            right: 100px;
            transform: translate(-50%, -100%);
            background-color: transparent;
            font-size: 20px;
            border: none;
            border-radius: 5px;
            display: none;
            cursor: url("assets/cursor.png"), auto;
        }

        #belt {
            position: absolute;
            top: 50%;
            left: 175px;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 100vh;
            background-image: linear-gradient(to bottom, #000000aa 0%, #f2f2f2aa 100%);
        }

        #About img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .Card img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        #Result {
            height: 100vh;
            width: 100vw;
            position: absolute;
            top: 0%;
            left: 0%;
            text-align: center;
            display: none;
            background-image: url("assets/wish-details-background.jpg");
        }

        #Star1 {
            position: absolute;
            width: 50px;
            height: 50px;
            top: -37%;
            left: 15%;
        }

        #List button span {
            float: left;
            transform: translate(20px, -53px);
        }
    </style>
</head>

<body>
    <video id="Load" src="assets/Load.mp4" autoplay="true" muted></video>
    <div id="Panel">
        <div id="Menu">
            <div id="belt"></div>
            <div id="List">
                <button onclick="Type1()">
                    <img src="assets\character-backgrounds\background-cryo.png" alt="类型1">
                    <span>类型1</span>
                </button>
                <button onclick="Type2()">
                    <img src="assets\character-backgrounds\background-electric.png" alt="类型2">
                    <span>类型2</span>
                </button>
                <button onclick="Type3()">
                    <img src="assets\character-backgrounds\background-geo.png" alt="类型3">
                    <span>类型3</span>
                </button>
                <button onclick="Type4()">
                    <img src="assets\character-backgrounds\background-pyro.png" alt="类型4">
                    <span>类型4</span>
                </button>
                <button onclick="Type5()">
                    <img src="assets\character-backgrounds\background-water.png" alt="类型5">
                    <span class>类型5</span>
                </button>
                <button onclick="Type6()">
                    <img src="assets\character-backgrounds\background-wind.png" alt="类型6">
                    <span class>类型6</span>
                </button>
                <button onclick="Type7()">
                    <img src="assets\character-backgrounds\background-cryo.png" alt="类型7">
                    <span class>类型7</span>
                </button>
                <button onclick="Type8()">
                    <img src="assets\character-backgrounds\background.png" alt="类型8">
                    <span class>类型8</span>
                </button>
            </div>
            <div id="About">
                <img src="assets/Resourses/1.jpg" alt="类型1">
            </div>
        </div>
        <div id="Btn">
            <button id="Btn1wish" onclick="Wish1()">
                <img id="Wish1" src="assets/wish-button.png" alt="祈愿x1">
                <span>祈愿 x1</span>
                <img id="Star1" src="assets/coin.png" alt="星星">
            </button>
        </div>
    </div>
    <div id="Result">
        <div id="CardSet">
            <div class="Card" id="Card1"></div>
            <div class="Card" id="Card2"></div>
        </div>
        <div id="TITLE">祝贺他们！！！</div>
        <button id="Reset" onclick="Reset()">
            <img src="assets/closing-button.png" alt="重置">
        </button>
    </div>
    <script>
        const Video = document.getElementById('Load');
        const CardSet = document.getElementById('CardSet');
        const ResetBtn = document.getElementById('Reset');
        const Panel = document.getElementById('Panel');
        const TITLE = document.getElementById('TITLE');
        const Card1 = document.getElementById('Card1');
        const Card2 = document.getElementById('Card2');
        const Result = document.getElementById('Result');
        let UserList = [];
        function isPageFullscreen() {
            return !!(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
        }
        window.onload = function () {
            let launch = 0;
            // Video.addEventListener('ended', function () {
            //     if (launch == 0) {
                    Video.style.display = 'none';
                    Panel.style.display = 'block';
                    launch = 1;
            //     }
            // });
            for (let i = 1; i <= 6; i++) {
                UserList.push("<img src='assets/Users/" + i + ".jpg'>");
            }
        }
        function getRandom() {
            return UserList[Math.floor(Math.random() * UserList.length)];
        }
        function Wish1() {
            Panel.style.display = 'none';
            Video.src = 'assets/5starwish-single.mp4';
            Video.style.display = 'block';
            Video.play();
            Video.addEventListener('ended', function () {
                Result.style.display = 'block';
                Video.style.display = 'none';
                let v = 0, t = 0;
                let interval = setInterval(function () {
                    if (t >= v) {
                        Card1.innerHTML = getRandom();
                        Card2.innerHTML = getRandom();
                        t = 0;
                        v++;
                    }
                    t++;
                }, 10);
                setTimeout(function () {
                    let winner1 = Card1.innerHTML;
                    let winner2 = Card2.innerHTML;
                    if (winner1 == winner2) {
                        Card2.innerHTML = getRandom();
                        winner2 = Card2.innerHTML;
                    }
                    UserList.splice(UserList.indexOf(winner1), 1);
                    UserList.splice(UserList.indexOf(winner2), 1);
                    ResetBtn.style.display = 'block';
                    clearInterval(interval);
                }, 5000);
            });
        }
        function Reset() {
            Result.style.display = 'none';
            ResetBtn.style.display = 'none';
            Panel.style.display = 'block';
        }
        const About = document.getElementById('About');
        function Type1() {
            About.innerHTML = '<img src="assets/Resourses/1.jpg" alt="类型1">';
        }
        function Type2() {
            About.innerHTML = '<img src="assets/Resourses/2.jpg" alt="类型2">';
        }
        function Type3() {
            About.innerHTML = '<img src="assets/Resourses/3.jpg" alt="类型3">';
        }
        function Type4() {
            About.innerHTML = '<img src="assets/Resourses/4.jpg" alt="类型4">';
        }
        function Type5() {
            About.innerHTML = '<img src="assets/Resourses/5.jpg" alt="类型5">';
        }
        function Type6() {
            About.innerHTML = '<img src="assets/Resourses/6.jpg" alt="类型6">';
        }
        function Type7() {
            About.innerHTML = '<img src="assets/Resourses/7.jpg" alt="类型7">';
        }
        function Type8() {
            About.innerHTML = '<img src="assets/Resourses/8.jpg" alt="类型8">';
        }

    </script>
</body>

</html>